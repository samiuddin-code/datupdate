(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{27864:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payment",function(){return a(24173)}])},24173:function(e,s,a){"use strict";a.r(s),a.d(s,{__N_SSP:function(){return j},default:function(){return N}});var t=a(85893),n=a(67294),r=a(87066),l=a(40851),i=a(26382),c=a(68326),m=a(55118),o=a(69933),d=a(94803),x=a.n(d),p=e=>{let{formData:s}=e;return(0,t.jsxs)("div",{className:"bg-green-50 p-8 lg:sticky lg:top-20 lg:self-start",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("h3",{className:"uppercase mb-1 font-semibold",children:["Invoice : ",s.invoiceNumber]}),(0,t.jsx)("span",{className:"text-gray-500",children:(0,t.jsx)(x(),{format:"DD/MM/YYYY",children:new Date})})]}),(s.firstName&&s.lastName||s.issuedBy||s.email||s.projectTitle)&&(0,t.jsx)("span",{className:"border-b my-4 border-gray-100 block"}),s.firstName&&s.lastName&&(0,t.jsx)("h2",{className:"text-2xl mb-6 font-semibold",children:s.firstName+" "+s.lastName}),s.issuedBy&&(0,t.jsxs)("p",{className:"mb-3",children:[(0,t.jsx)("span",{className:"mr-4 font-medium w-28 inline-block",children:"Issued By"}),s.issuedBy]}),s.amount&&(0,t.jsxs)("p",{className:"mb-3",children:[(0,t.jsx)("span",{className:"mr-4 font-medium w-28 inline-block",children:"Amount"}),s.amount," AED"]}),s.email&&(0,t.jsxs)("p",{className:"mb-3",children:[(0,t.jsx)("span",{className:"mr-4 font-medium w-28 inline-block",children:"Email"}),s.email]}),s.projectTitle&&(0,t.jsxs)("p",{className:"mb-3",children:[(0,t.jsx)("span",{className:"mr-4 font-medium w-28 inline-block",children:"Project Title"}),s.projectTitle]})]})},u=a(11163),h=a(25675),g=a.n(h),b={src:"/_next/static/media/copy.cf5bd2c8.svg",height:24,width:24,blurWidth:0,blurHeight:0},j=!0,N=e=>{let{response:s,host:a}=e,[d,x]=(0,n.useState)({}),[h,j]=(0,n.useState)({}),[N,y]=(0,n.useState)(!1),[f,v]=(0,n.useState)(null),[w,k]=(0,n.useState)(!1),[C,T]=(0,n.useState)(!1),_=(0,u.useRouter)(),Z=(0,n.useRef)(),[D,P]=(0,n.useState)(!1),S=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.Z.post("".concat("https://api.datconsultancy.com/web-api/v1.0","/getPaymentLink"),d).then(s=>{let a;let n={};s.data.errorMsg&&s.data.errorMsg.map(e=>n[e.param]=e.msg),s.data.success?(a=s.data.paymentLink,T(!0),e&&_.push(a)):a=(0,t.jsx)("span",{className:"text-[#ff0000]",children:s.data.msg}),v(a),j(n),y(!1)}).catch(e=>{v((0,t.jsx)("span",{className:"text-[#ff0000]",children:"Please fix the above error"})),y(!1)})},E=e=>{x({...d,[e.target.name]:e.target.value})};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(l.Z,{noImageHeader:!0,apiData:s,children:[(0,t.jsx)(i.Z,{title:"Online Payment",description:"Now You can pay Us Online. All Major Credit and Debit cards accepted"}),(0,t.jsx)("section",{className:"py-16 lg:py-20 pt-8 lg:pt-40 relative lg:animate-to-top",children:(0,t.jsxs)("div",{className:"max-w-lg sm:max-w-xl md:max-w-2xl lg:max-w-5xl xl:max-w-5xl mx-auto px-8 lg:px-8",children:[(0,t.jsx)(m.Z,{animate:!1,classList:"w-full",headingLevel:"h1",heading:"Online Payment"}),(0,t.jsxs)("p",{className:"mb-10 text-gray-700",children:["Hi ",d.firstName?d.firstName:"User",", You are about to make an online payment ",d.amount?"of ".concat(d.amount," AED"):"",". If you choose to complete the payment, you will be redirected to our merchant page to process your payment."]}),(0,t.jsxs)("form",{autoComplete:"off",method:"post",onSubmit:e=>e.preventDefault(),className:N?"pointer-events-none opacity-80":"",children:[(0,t.jsxs)("div",{className:"grid lg:grid-cols-2 gap-x-12",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-semibold uppercase mb-2",children:"Amount Details"}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-y-4 gap-x-8",children:[(0,t.jsx)(c.Z,{labelText:"Amount (AED)",name:"amount",type:"number",onChange:E,error:h}),(0,t.jsx)(c.Z,{type:"text",labelText:"Invoice Number",name:"invoiceNumber",onChange:E,error:h})]})]}),(0,t.jsx)("span",{className:"border-b my-10 lg:my-4 border-gray-100 block"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-semibold uppercase mb-2",children:"Personal Details"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-y-4 gap-x-8",children:[(0,t.jsx)(c.Z,{type:"text",labelText:"First Name",name:"firstName",onChange:E,error:h}),(0,t.jsx)(c.Z,{type:"text",labelText:"Last Name",name:"lastName",onChange:E,error:h}),(0,t.jsx)(c.Z,{type:"email",labelText:"Email Address",name:"email",onChange:E,error:h}),(0,t.jsx)(c.Z,{type:"text",labelText:"Phone Number",name:"contactNumber",onChange:E,error:h})]})]}),(0,t.jsx)("span",{className:"border-b my-10 lg:my-4 border-gray-100 block"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-semibold uppercase mb-2",children:"Project Details"}),(0,t.jsxs)("div",{className:"grid gap-y-4",children:[(0,t.jsx)(c.Z,{type:"text",labelText:"Project Title",name:"projectTitle",onChange:E,error:h}),(0,t.jsx)(c.Z,{type:"text",labelText:"Remarks",name:"remarks",onChange:E,error:h}),(0,t.jsx)(c.Z,{type:"text",labelText:"Link Issuing Name",name:"issuedBy",onChange:E,error:h})]})]})]}),(0,t.jsx)("div",{className:"grid gap-y-3 mt-8 mb-4 lg:my-0",children:(0,t.jsx)(p,{formData:d})})]}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{className:"mr-2",name:"terms&Condition",onChange:e=>{k(e.target.checked)},type:"checkbox",required:""}),"I have reviewed the ",(0,t.jsx)("div",{className:"underline",target:"_blank",rel:"noopener noreferrer",href:"/terms-and-conditions",children:"terms and conditions"})," and I agree to make this online payment."]})}),f&&(0,t.jsxs)("div",{className:"mt-8 block px-8 bg-green-50 py-4 rounded relative cursor-pointer ",onClick:()=>{let e=Z.current;if(document.selection){var s=document.body.createTextRange();s.moveToElementText(e),s.select()}else if(window.getSelection){var s=document.createRange();s.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(s)}P(!0),document.execCommand("copy")},children:[(0,t.jsx)("div",{className:"break-words",ref:Z,children:C?(0,t.jsx)("span",{className:"text-green-900",children:a+f}):f}),C&&(0,t.jsxs)("span",{className:"absolute flex items-center -top-4 right-4 bg-white text-gray-900 px-2 py-1 rounded-lg text-sm pointer-events-none",children:["Copy",(0,t.jsx)(g(),{width:16,height:16,src:b,alt:"copy icon",className:"pl-4"})]})]}),D&&(0,t.jsx)("span",{className:"text-green-900",children:"Link is copied to your clipboard."}),(0,t.jsxs)("div",{className:"mt-12",children:[(0,t.jsx)(o.Z,{text:"Make Payment",onClick:()=>{S(!0)},animateIcon:N,classList:N?"pointer-events-none bg-gray-50":"bg-gray-50"}),(0,t.jsx)("span",{onClick:()=>{w?S():v((0,t.jsx)("span",{className:"text-[#ff0000]",children:"You didnt accept Terms & Conditions."}))},className:"w-full block mt-8 sm:ml-8 sm:mt-0 sm:inline sm:w-auto underline text-green-900 cursor-pointer",children:"Get payment link"})]})]})]})})]})})}}},function(e){e.O(0,[885,996,653,643,888,774,179],function(){return e(e.s=27864)}),_N_E=e.O()}]);